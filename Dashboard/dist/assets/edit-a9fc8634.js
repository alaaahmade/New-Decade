import{I as m,be as Wt,b2 as Kt,b6 as Mt,bg as O,bh as Ct,a9 as e,ae as p,b3 as Pt,ao as b,ag as Qt,bj as q,a$ as Jt,b8 as Xt,am as Yt,ai as Zt}from"./index-7baedad1.js";import{b as vt}from"./blog-ab74bd07.js";import{u as Ht,c as ti,a as s,d as ii,g as ei,F as ni,R as n,C as si}from"./form-provider-f0797274.js";import{G as o,C as w,o as ai}from"./yup-573c9287.js";import{C as Ft}from"./numeral-64476a1d.js";import{L as li}from"./LoadingButton-5b466cf8.js";import"./axios-cb1c23e4.js";import"./TextField-ea5a8ca7.js";function St({currentHero:t}){const[g,It]=m.useState(!1),[Et,k]=m.useState(null),Dt=Wt(),h=Kt("up","md"),{enqueueSnackbar:Rt}=Ht(),Ut=Mt(),rt=ti().shape({titleOne_ar:s().min(4).max(50).required("الجزء الأول من العنوان مطلوب باللغة العربية"),titleOne_en:s().min(4).max(50).required("English Firsts title is required"),titleOne_cr:s().min(4).max(50).required("kurd Firsts title is required"),titleTow_ar:s().min(4).max(50).required("الجزء الثاني من العنوان مطلوب باللغة العربية"),titleTow_en:s().min(4).max(50).required("English Seconds title is required"),titleTow_cr:s().min(4).max(50).required("kurd Seconds title is required"),description_ar:s().min(10).max(5e3).required("الوصف مطلوب باللغة العربية"),description_en:s().min(10).max(5e3).required("English Description is required"),description_cr:s().min(10).max(5e3).required("kurd Description is required"),buttonOneT_ar:s().min(4).max(50).required("نص المفتاح الأول مطلوب بالعربية"),buttonOneT_en:s().min(4).max(50).required("english firsts button text is required"),buttonOneT_cr:s().min(4).max(50).required("kurd firsts button text is required"),buttonOneP_ar:s().min(4).max(100).required("مسار المفتاح الأول مطلوب بالعربية"),buttonOneP_en:s().min(4).max(100).required("english firsts button path is required"),buttonOneP_cr:s().min(4).max(100).required("kurd firsts button path is required"),featured_ar:s().min(4).max(50).required("الكلمة المميزة مطلوبة بالعربية"),featured_en:s().min(4).max(50).required("English special word is required"),featured_cr:s().min(4).max(50).required("kurd special word is required"),image:s().min(10).max(500).required("Image File is required")}),T=m.useMemo(()=>{var d,a,l,x,f,j,C,P,F,S,I,E,D,R,U,r,B,V,L,z,G,$,A,N,W,K,M,Q,J,X,Y,Z,v,H,tt,it,et,nt,st,at,lt,dt,ot,xt,mt,bt,ht,pt,wt,gt,_t,ft,jt,Tt,ct,Ot,qt,kt,yt,ut;return{titleOne_ar:((a=(d=t==null?void 0:t.lang)==null?void 0:d.ar)==null?void 0:a.titleOne)||"",titleOne_en:((x=(l=t==null?void 0:t.lang)==null?void 0:l.en)==null?void 0:x.titleOne)||"",titleOne_cr:((j=(f=t==null?void 0:t.lang)==null?void 0:f.cr)==null?void 0:j.titleOne)||"",titleTow_ar:((P=(C=t==null?void 0:t.lang)==null?void 0:C.ar)==null?void 0:P.titleTow)||"",titleTow_en:((S=(F=t==null?void 0:t.lang)==null?void 0:F.en)==null?void 0:S.titleTow)||"",titleTow_cr:((E=(I=t==null?void 0:t.lang)==null?void 0:I.cr)==null?void 0:E.titleTow)||"",description_ar:((R=(D=t==null?void 0:t.lang)==null?void 0:D.ar)==null?void 0:R.description)||"",description_en:((r=(U=t==null?void 0:t.lang)==null?void 0:U.en)==null?void 0:r.description)||"",description_cr:((V=(B=t==null?void 0:t.lang)==null?void 0:B.cr)==null?void 0:V.description)||"",buttonOneT_ar:((G=(z=(L=t==null?void 0:t.lang)==null?void 0:L.ar)==null?void 0:z.buttonOne)==null?void 0:G.text)||"",buttonOneT_en:((N=(A=($=t==null?void 0:t.lang)==null?void 0:$.en)==null?void 0:A.buttonOne)==null?void 0:N.text)||"",buttonOneT_cr:((M=(K=(W=t==null?void 0:t.lang)==null?void 0:W.cr)==null?void 0:K.buttonOne)==null?void 0:M.text)||"",buttonOneP_ar:((X=(J=(Q=t==null?void 0:t.lang)==null?void 0:Q.ar)==null?void 0:J.buttonOne)==null?void 0:X.link)||"",buttonOneP_en:((v=(Z=(Y=t==null?void 0:t.lang)==null?void 0:Y.en)==null?void 0:Z.buttonOne)==null?void 0:v.link)||"",buttonOneP_cr:((it=(tt=(H=t==null?void 0:t.lang)==null?void 0:H.ar)==null?void 0:tt.buttonOne)==null?void 0:it.link)||"",buttonTowT_ar:((st=(nt=(et=t==null?void 0:t.lang)==null?void 0:et.ar)==null?void 0:nt.buttonTow)==null?void 0:st.text)||"",buttonTowT_en:((dt=(lt=(at=t==null?void 0:t.lang)==null?void 0:at.en)==null?void 0:lt.buttonTow)==null?void 0:dt.text)||"",buttonTowT_cr:((mt=(xt=(ot=t==null?void 0:t.lang)==null?void 0:ot.cr)==null?void 0:xt.buttonTow)==null?void 0:mt.text)||"",buttonTowP_ar:((pt=(ht=(bt=t==null?void 0:t.lang)==null?void 0:bt.ar)==null?void 0:ht.buttonTow)==null?void 0:pt.link)||"",buttonTowP_en:((_t=(gt=(wt=t==null?void 0:t.lang)==null?void 0:wt.ar)==null?void 0:gt.buttonTow)==null?void 0:_t.link)||"",buttonTowP_cr:((Tt=(jt=(ft=t==null?void 0:t.lang)==null?void 0:ft.cr)==null?void 0:jt.buttonTow)==null?void 0:Tt.link)||"",featured_ar:((Ot=(ct=t==null?void 0:t.lang)==null?void 0:ct.ar)==null?void 0:Ot.featured)||"",featured_en:((kt=(qt=t==null?void 0:t.lang)==null?void 0:qt.en)==null?void 0:kt.featured)||"",featured_cr:((ut=(yt=t==null?void 0:t.lang)==null?void 0:yt.cr)==null?void 0:ut.featured)||"",image:(t==null?void 0:t.image)||""}},[t]),y=ii({resolver:async(d,a,l)=>await ai(rt)(d,a,l),defaultValues:T}),{reset:c,watch:Bt,setValue:_,handleSubmit:u,formState:{isSubmitting:Vt,isValid:oi}}=y,i=Bt();m.useEffect(()=>{t&&c(T)},[t,T,c]);const Lt=u(async d=>{try{let a="";if(g){t!=null&&t.image&&await O.post("/deleteFile",{fileUrl:t.image});const x=new FormData;if(i.image){x.append("file",i.image);const f=await O.post("/uploadFile/hero",x,{headers:{"Content-Type":"multipart/form-data"}}),{fileUrl:j}=f.data.data;a=j}}const l={image:a||t.image,lang:{ar:{titleOne:i==null?void 0:i.titleOne_ar,titleTow:i==null?void 0:i.titleTow_ar,description:i==null?void 0:i.description_ar,featured:i==null?void 0:i.featured_ar,buttonOne:{text:i==null?void 0:i.buttonOneT_ar,link:i==null?void 0:i.buttonOneP_ar},buttonTow:{text:i==null?void 0:i.buttonTowT_ar,link:i==null?void 0:i.buttonTowP_ar}},en:{titleOne:i==null?void 0:i.titleOne_en,titleTow:i==null?void 0:i.titleTow_en,description:i==null?void 0:i.description_en,featured:i==null?void 0:i.featured_en,buttonOne:{text:i==null?void 0:i.buttonOneT_en,link:i==null?void 0:i.buttonOneP_en},buttonTow:{text:i==null?void 0:i.buttonTowT_en,link:i==null?void 0:i.buttonTowP_en}},cr:{titleOne:i==null?void 0:i.titleOne_cr,titleTow:i==null?void 0:i.titleTow_cr,description:i==null?void 0:i.description_cr,featured:i==null?void 0:i.featured_cr,buttonOne:{text:i==null?void 0:i.buttonOneT_cr,link:i==null?void 0:i.buttonOneP_cr},buttonTow:{text:i==null?void 0:i.buttonTowT_cr,link:i==null?void 0:i.buttonTowP_cr}}}};await O.put("/edit/hero",l),c(),Ut.onFalse(),Rt(t?"Update success!":"Create success!"),window.location.reload(),Ct.success("Hero's Updated Successfully.")}catch(a){Ct.error(a.response.data.msg||"Something went wrong!"),console.error(a)}}),zt=m.useCallback(d=>{const a=d[0];It(!0);const l=Object.assign(a,{preview:URL.createObjectURL(a)});k(a),a&&_("image",l,{shouldValidate:!0})},[_]),Gt=m.useCallback(()=>{_("image",null),k(null)},[_]),$t=e.jsxs(e.Fragment,{children:[h&&e.jsxs(o,{md:4,children:[e.jsx(p,{variant:"h6",sx:{mb:.5},children:"Texts"}),e.jsx(p,{variant:"body2",sx:{color:"text.secondary"},children:"Title, description, buttons..."})]}),e.jsx(o,{xs:12,md:8,children:e.jsxs(Ft,{children:[!h&&e.jsx(w,{title:"Texts"}),e.jsx(w,{title:"Arabic Text"}),e.jsxs(Pt,{spacing:3,sx:{p:3},children:[e.jsx(n,{name:"titleOne_ar",label:"الجزء الأول من العنوان بالعربية",sx:{direction:"rtl"}}),e.jsx(n,{name:"titleTow_ar",label:"الجزء الثاني من العنوان بالعربية",sx:{direction:"rtl"}}),e.jsx(n,{name:"featured_ar",label:"الكلمة المميزة بالعربية",sx:{direction:"rtl"}}),e.jsx(n,{type:"text",name:"description_ar",label:"الوصف بالعربية",multiline:!0,rows:3,sx:{direction:"rtl"}}),e.jsxs(b,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(n,{name:"buttonOneT_ar",label:"نص المفتاح الأول بالعربية",sx:{direction:"rtl",width:"49%"}}),e.jsx(n,{name:"buttonOneP_ar",label:"مسار المفتاح الأول",sx:{width:"49%"}})]}),e.jsxs(b,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(n,{name:"buttonTowT_ar",label:"نص المفتاح الثاني بالعربية",sx:{direction:"rtl",width:"49%"}}),e.jsx(n,{name:"buttonTowP_ar",label:"مسار المفتاح الثاني",sx:{width:"49%"}})]}),e.jsx(w,{title:"English Text"}),e.jsx(n,{name:"titleOne_en",label:"english first section of title"}),e.jsx(n,{name:"titleTow_en",label:"english second section of title"}),e.jsx(n,{name:"featured_en",label:"english special word"}),e.jsx(n,{type:"text",name:"description_en",label:"english description",multiline:!0,rows:3}),e.jsxs(b,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(n,{name:"buttonOneT_en",label:"english firsts button text",sx:{width:"49%"}}),e.jsx(n,{name:"buttonOneP_en",label:"firsts button path",sx:{width:"49%"}})]}),e.jsxs(b,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(n,{name:"buttonTowT_en",label:"english seconds button text",sx:{width:"49%"}}),e.jsx(n,{name:"buttonTowP_en",label:"seconds button path",sx:{width:"49%"}})]}),e.jsx(w,{title:"Kurd Text"}),e.jsx(n,{name:"titleOne_cr",label:"kurd first section of title"}),e.jsx(n,{name:"titleTow_cr",label:"kurd second section of title"}),e.jsx(n,{name:"featured_cr",label:"kurd special word"}),e.jsx(n,{type:"text",name:"description_cr",label:"kurd description",multiline:!0,rows:3}),e.jsxs(b,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(n,{name:"buttonOneT_cr",label:"kurd firsts button text",sx:{width:"49%"}}),e.jsx(n,{name:"buttonOneP_cr",label:"firsts button path",sx:{width:"49%"}})]}),e.jsxs(b,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(n,{name:"buttonTowT_cr",label:"kurd seconds button text",sx:{width:"49%"}}),e.jsx(n,{name:"buttonTowP_cr",label:"seconds button path",sx:{width:"49%"}})]})]})]})})]}),At=e.jsxs(e.Fragment,{children:[h&&e.jsx(o,{md:4}),e.jsxs(o,{xs:12,md:8,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(Qt,{color:"inherit",variant:"outlined",size:"large",onClick:()=>Dt.push(q.dashboard.root),children:"cancel"}),e.jsx(li,{type:"submit",variant:"contained",size:"large",loading:Vt,sx:{ml:2},onClick:u,children:"Save Hero"})]})]}),Nt=e.jsxs(e.Fragment,{children:[h&&e.jsxs(o,{md:4,children:[e.jsx(p,{variant:"h6",sx:{mb:.5},children:"Image"}),e.jsx(p,{variant:"body2",sx:{color:"text.secondary"},children:"hero Section Image..."})]}),e.jsx(o,{xs:12,md:8,children:e.jsxs(Ft,{sx:{p:2},children:[!h&&e.jsx(w,{title:"Image"}),e.jsxs(Pt,{spacing:1.5,children:[e.jsx(p,{variant:"subtitle2",children:"Image"}),e.jsx(ei,{name:"image",maxSize:3145728,onDrop:zt,onDelete:Gt,file:i.image||Et})]})]})})]});return e.jsx(ni,{methods:y,onSubmit:Lt,children:e.jsxs(o,{container:!0,spacing:3,children:[$t,Nt,At]})})}St.propTypes={currentHero:Jt.object};function di(){const t=Xt(),{hero:g}=vt();return e.jsxs(Yt,{maxWidth:t.themeStretch?!1:"lg",children:[e.jsx(si,{heading:"Edit Hero Section",links:[{name:"Dashboard",href:q.dashboard.root},{name:"hero",href:q.dashboard.service.root}],sx:{mb:{xs:3,md:5}}}),g&&e.jsx(St,{currentHero:g})]})}function fi(){return e.jsxs(e.Fragment,{children:[e.jsx(Zt,{children:e.jsx("title",{children:" Dashboard: Hero Edit"})}),e.jsx(di,{})]})}export{fi as default};
