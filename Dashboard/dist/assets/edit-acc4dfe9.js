import{a$ as l,I as x,bI as we,a9 as e,b3 as p,ae as t,ag as K,be as ye,b2 as qe,bg as Ce,bh as $,ao as ve,bj as H,b8 as Re,am as Fe,ai as ke}from"./index-7baedad1.js";import{h as Oe}from"./blog-ab74bd07.js";import{c as je,a as m,d as oe,F as ue,u as Ee,e as I,R as o,C as Le}from"./form-provider-f0797274.js";import{o as be,G as d,C}from"./yup-573c9287.js";import{d as Ae,a as ge}from"./RemoveCircleOutline-7d32947f.js";import"./components.styled-0a52fcef.js";import{R as G,S as Ve,h as De,i as Ne}from"./attributeReduce-55c83204.js";import{L as Be}from"./LoadingButton-5b466cf8.js";import{C as v}from"./numeral-64476a1d.js";import"./axios-cb1c23e4.js";import"./TextField-ea5a8ca7.js";import"./createSvgIcon-43748fa8.js";l.string,l.func;const _e=({solutions:r,solution:n,solutionsDispatch:i,setAllValue:f,listName:y})=>{const{setCallBack:T}=x.useContext(we),N=je().shape({num:m().min(1).max(20).required("name is required"),title:m().min(3).max(50).required("title is required"),color:m().max(50).required("Image is required")}),R=x.useMemo(()=>({num:(n==null?void 0:n.num)||"",title:(n==null?void 0:n.title)||"",color:(n==null?void 0:n.color)||""}),[n]),A=oe({resolver:async(j,u,w)=>await be(N)(j,u,w),defaultValues:R}),{reset:g,watch:B,setValue:M,handleSubmit:W,formState:{isSubmitting:P,isValid:V}}=A,s=B(),q=W(async j=>{console.log(`"${s.title}" is Valid`)});x.useEffect(()=>{n&&(g(R),T(q))},[n,R,g]);const F=j=>{j.preventDefault();const{value:u,id:w,name:a}=j.target,O=r.map(E=>E.id==w?{...E,[a]:u}:E);f(y,O),i({type:"edit",newSolution:O})},k=j=>{const{id:u}=j.target,w=r.filter(a=>a.id!=u);f(y,w),i({type:"remove",id:u,newSolution:w})};return e.jsx(ue,{methods:A,onSubmit:q,children:e.jsxs(p,{spacing:3,sx:{p:3},children:[e.jsx(t,{variant:"subtitle2",children:s.name}),e.jsx(G,{id:n==null?void 0:n.id,onChange:F,name:"num",label:"Solution Number"}),e.jsx(G,{id:n==null?void 0:n.id,onChange:F,name:"title",label:"Solution Title"}),e.jsx(G,{id:n==null?void 0:n.id,onChange:F,type:"text",name:"color",label:"Solution Color"}),e.jsx(K,{id:n.id,variant:"outlined",sx:{color:"#FFFFFF",backgroundColor:"#b1a9a9","&:hover":{backgroundColor:"#b1a9a9",color:"red"}},startIcon:e.jsx(Ae,{}),onClick:k,children:"Remove"})]})})};_e.propTypes={solutions:l.array.isRequired,solution:l.object.isRequired,solutionsDispatch:l.func.isRequired,setAllValue:l.func.isRequired,listName:l.string.isRequired};const D=({solutions:r,solutionsDispatch:n,setAllValue:i,listName:f})=>{const y=()=>{i(f,[...r,{id:r==null?void 0:r.length}]),n({type:"add",id:r==null?void 0:r.length})};return e.jsxs(e.Fragment,{children:[r==null?void 0:r.map(T=>e.jsx(_e,{id:T.id,solution:T,solutions:r,solutionsDispatch:n,setAllValue:i,listName:f},T.id)),e.jsx(K,{variant:"outlined",sx:{color:"#fff",backgroundColor:"#212B36","&:hover":{backgroundColor:"#454F5B"}},startIcon:e.jsx(ge,{}),onClick:y,children:"إضافة طلب جديد"})]})};D.propTypes={solutions:l.array.isRequired,solutionsDispatch:l.func.isRequired,setAllValue:l.func.isRequired,listName:l.string.isRequired};function fe({logisticsSolution:r}){var U,z,Q;const n=ye(),i=qe("up","md");x.useState(null),x.useState(null),x.useState(!1),x.useState(!1);const{enqueueSnackbar:f}=Ee(),y=((U=r==null?void 0:r.lang)==null?void 0:U.ar.solutions)||[],T=((z=r==null?void 0:r.lang)==null?void 0:z.en.solutions)||[],N=((Q=r==null?void 0:r.lang)==null?void 0:Q.cr.solutions)||[],[R,A]=x.useReducer(Ve,y),[g,B]=x.useReducer(De,T),[M,W]=x.useReducer(Ne,N),P=je().shape({titleOne_ar:m().min(4).max(100).required("العنوان الأول مطلوب باللغة العربية"),titleOne_en:m().min(4).max(100).required("English First section of Title is required"),titleOne_cr:m().min(4).max(100).required("kurd First section of Title is required"),span_ar:m().min(4).max(50).required("الكلمة المميزة مطلوبة بالعربية"),span_en:m().min(4).max(50).required("English Special Word is required"),span_cr:m().min(4).max(50).required("kurd Special Word is required"),titleTow_ar:m().min(4).max(50).required("العنوان الثاني مطلوب باللغة العربية"),titleTow_en:m().min(4).max(50).required("English Second section of Title is required"),titleTow_cr:m().min(4).max(50).required("kurd Second section of Title is required"),solutions_ar:I().min(1).max(4).required("Avenues List مطلوب باللغة العربية"),solutions_en:I().min(1).max(4).required("English Avenues List"),solutions_cr:I().min(1).max(4).required("Kurd Avenues List")}),V=x.useMemo(()=>{var b,h,_,c,L,J,X,Y,Z,S,ee,re,ae,ne,te,se,de,ie,ce,xe,me,le,he,pe;return{titleOne_ar:((h=(b=r==null?void 0:r.lang)==null?void 0:b.ar)==null?void 0:h.titleOne)||"",titleOne_en:((c=(_=r==null?void 0:r.lang)==null?void 0:_.en)==null?void 0:c.titleOne)||"",titleOne_cr:((J=(L=r==null?void 0:r.lang)==null?void 0:L.cr)==null?void 0:J.titleOne)||"",span_ar:((Y=(X=r==null?void 0:r.lang)==null?void 0:X.ar)==null?void 0:Y.span)||"",span_en:((S=(Z=r==null?void 0:r.lang)==null?void 0:Z.en)==null?void 0:S.span)||"",span_cr:((re=(ee=r==null?void 0:r.lang)==null?void 0:ee.cr)==null?void 0:re.span)||"",titleTow_ar:((ne=(ae=r==null?void 0:r.lang)==null?void 0:ae.ar)==null?void 0:ne.titleTow)||"",titleTow_en:((se=(te=r==null?void 0:r.lang)==null?void 0:te.en)==null?void 0:se.titleTow)||"",titleTow_cr:((ie=(de=r==null?void 0:r.lang)==null?void 0:de.cr)==null?void 0:ie.titleTow)||"",solutions_ar:((xe=(ce=r==null?void 0:r.lang)==null?void 0:ce.ar)==null?void 0:xe.solutions)||[],solutions_en:((le=(me=r==null?void 0:r.lang)==null?void 0:me.en)==null?void 0:le.solutions)||[],solutions_cr:((pe=(he=r==null?void 0:r.lang)==null?void 0:he.cr)==null?void 0:pe.solutions)||[]}},[r]),s=oe({resolver:async(b,h,_)=>await be(P)(b,h,_),defaultValues:V}),{reset:q,watch:F,setValue:k,handleSubmit:j,formState:{isSubmitting:u,isValid:w}}=s,a=F();x.useEffect(()=>{r&&q(V)},[r,V,q]);const O=j(async b=>{var h,_;try{const c={lang:{ar:{titleOne:a==null?void 0:a.titleOne_ar,titleTow:a==null?void 0:a.titleTow_ar,span:a==null?void 0:a.span_ar,solutions:a.solutions_ar},en:{titleOne:a==null?void 0:a.titleOne_en,titleTow:a==null?void 0:a.titleTow_en,span:a==null?void 0:a.span_en,solutions:a.solutions_en},cr:{titleOne:a==null?void 0:a.titleOne_cr,titleTow:a==null?void 0:a.titleTow_cr,span:a==null?void 0:a.span_cr,solutions:a.solutions_cr}}};await Ce.put("/edit/solutions",c),q(),f("Update success!"),window.location.reload(),$.success("Avenues's Updated Successfully.")}catch(c){$.error(((_=(h=c==null?void 0:c.response)==null?void 0:h.data)==null?void 0:_.msg)||"Something went wrong!"),console.error(c)}}),E=e.jsx(e.Fragment,{children:e.jsxs(ve,{xs:12,md:8,sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[e.jsx(K,{color:"inherit",variant:"outlined",size:"large",onClick:()=>n.push(H.dashboard.root),children:"cancel"}),e.jsx(Be,{type:"submit",variant:"contained",size:"large",loading:u,sx:{ml:2},onClick:async()=>{var b,h;await O(),(b=s==null?void 0:s.formState)!=null&&b.errors&&Object.keys((h=s==null?void 0:s.formState)==null?void 0:h.errors).map(c=>{var L;$.error((L=s==null?void 0:s.formState)==null?void 0:L.errors[c].message)})},children:"Save Solutions"})]})}),Te=e.jsxs(e.Fragment,{children:[i&&e.jsxs(d,{md:4,children:[e.jsx(t,{variant:"h6",sx:{mb:.5},children:"Texts"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Title, description, buttons..."})]}),e.jsx(d,{xs:12,md:8,children:e.jsxs(v,{children:[e.jsx(C,{title:"Arabic Text"}),e.jsxs(p,{spacing:3,sx:{p:3},children:[e.jsx(o,{name:"titleOne_ar",label:"الجزء الأول من العنوان بالعربية",sx:{direction:"rtl"}}),e.jsx(o,{name:"span_ar",label:"الكلمة المميزة بالعربية",sx:{direction:"rtl"}}),e.jsx(o,{name:"titleTow_ar",label:"الجزء الثاني من العنوان بالعربية",sx:{direction:"rtl"}})]})]})}),i&&e.jsxs(d,{md:4,children:[e.jsx(t,{variant:"h6",sx:{mb:.5},children:"Solution List"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Solution Title, paragraph, name..."})]}),e.jsx(d,{xs:12,md:8,children:e.jsxs(v,{sx:{p:2},children:[e.jsx(C,{title:"Arabic Solution List"}),e.jsx(p,{spacing:3,sx:{p:0},children:e.jsx(p,{spacing:0,sx:{p:0},children:e.jsx(D,{setAllValue:k,solutions:R,solutionsDispatch:A,listName:"solutions_ar"})})})]})}),i&&e.jsxs(d,{md:4,children:[e.jsx(t,{variant:"h6",sx:{mb:.5},children:"Texts"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Title, description, buttons..."})]}),e.jsx(d,{xs:12,md:8,children:e.jsx(v,{children:e.jsxs(p,{spacing:3,sx:{p:0},children:[e.jsx(C,{title:"English Text"}),e.jsx(o,{name:"titleOne_en",label:"English First Section of Title"}),e.jsx(o,{name:"span_en",label:"English Special Word"}),e.jsx(o,{name:"titleTow_en",label:"English Second Section of Title"})]})})}),i&&e.jsxs(d,{md:4,children:[e.jsx(t,{variant:"h6",sx:{mb:.5},children:"Solution List"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Solution Title, description, buttons..."})]}),e.jsx(d,{xs:12,md:8,children:e.jsx(v,{children:e.jsxs(p,{spacing:3,sx:{p:0},children:[e.jsx(C,{title:"English Solution Lis"}),e.jsxs(p,{spacing:0,sx:{p:3},children:[e.jsx(t,{variant:"h6",sx:{mb:.5},children:"Solution"}),e.jsx(D,{setAllValue:k,solutions:g,solutionsDispatch:B,listName:"solutions_en"})]})]})})}),i&&e.jsxs(d,{md:4,children:[e.jsx(t,{variant:"h6",sx:{mb:.5},children:"Texts"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Title, description, buttons..."})]}),e.jsx(d,{xs:12,md:8,children:e.jsx(v,{children:e.jsxs(p,{spacing:3,sx:{p:0},children:[e.jsx(C,{title:"Kurd Text"}),e.jsx(o,{name:"titleOne_cr",label:"kurd First Section of Title"}),e.jsx(o,{name:"span_cr",label:"kurd Special Word"}),e.jsx(o,{name:"titleTow_cr",label:"kurd Second Section of Title"})]})})}),i&&e.jsxs(d,{md:4,children:[e.jsx(t,{variant:"h6",sx:{mb:.5},children:"Solution List"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Solution Title, description, buttons..."})]}),e.jsx(d,{xs:12,md:8,children:e.jsx(v,{children:e.jsxs(p,{spacing:3,sx:{p:0},children:[e.jsx(C,{title:"Kurd Solution List"}),e.jsxs(p,{spacing:0,sx:{p:3},children:[e.jsx(t,{variant:"h6",sx:{mb:.5},children:"Solution"}),e.jsx(D,{setAllValue:k,solutions:M,solutionsDispatch:W,listName:"solutions_cr"})]})]})})}),i&&e.jsxs(d,{md:4,children:[e.jsx(t,{variant:"h6",sx:{mb:.5},children:"Actions"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Save Modular, cancel..."})]})]});return e.jsx(ue,{methods:s,onSubmit:O,children:e.jsxs(d,{container:!0,spacing:3,sx:{width:"100%"},children:[Te,E]})})}fe.propTypes={logisticsSolution:l.object};function We(){const r=Re(),{logisticsSolution:n}=Oe();return e.jsxs(Fe,{maxWidth:r.themeStretch?!1:"lg",children:[e.jsx(Le,{heading:"Edit Logistics Solutions Section",links:[{name:"Dashboard",href:H.dashboard.root},{name:"logistics solutions",href:H.dashboard.service.root}],sx:{mb:{xs:3,md:5}}}),n&&e.jsx(fe,{logisticsSolution:n})]})}function Ye(){return e.jsxs(e.Fragment,{children:[e.jsx(ke,{children:e.jsx("title",{children:" Dashboard: Customer Words Edit"})}),e.jsx(We,{})]})}export{Ye as default};
