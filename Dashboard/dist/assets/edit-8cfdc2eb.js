import{I as m,be as Ge,b2 as He,bg as O,bh as ye,a9 as n,ae as c,b3 as be,ao as r,ag as $e,bj as q,a$ as Ne,b8 as Ke,am as Me,ai as Qe}from"./index-7baedad1.js";import{c as Je}from"./blog-ab74bd07.js";import{u as Xe,c as Ye,a as s,d as Ze,g as ve,F as ue,R as a,C as Ae}from"./form-provider-f0797274.js";import{G as o,C as g,o as ei}from"./yup-573c9287.js";import{C as ke}from"./numeral-64476a1d.js";import{L as ii}from"./LoadingButton-5b466cf8.js";import"./axios-cb1c23e4.js";import"./TextField-ea5a8ca7.js";function Se({currentAbout:e}){const[h,Pe]=m.useState(!1),[Ce,y]=m.useState(null),Fe=Ge(),p=He("up","md"),{enqueueSnackbar:Ie}=Xe(),Ee=Ye().shape({title_ar:s().min(4).max(50).required("العنوان مطلوب باللغة العربية"),title_en:s().min(4).max(50).required("English title is required"),title_cr:s().min(4).max(50).required("kurd title is required"),span_ar:s().min(4).max(50).required("الكلمة المميزة مطلوبة بالعربية"),span_en:s().min(4).max(50).required("English Special Word is required"),span_cr:s().min(4).max(50).required("kurd Special Word is required"),descriptionOne_ar:s().min(10).max(5e3).required("الوصف الأول مطلوب باللغة العربية"),descriptionOne_en:s().min(10).max(5e3).required("English First Description is required"),descriptionOne_cr:s().min(10).max(5e3).required("kurd First Description is required"),descriptionTow_ar:s().min(10).max(5e3).required("الوصف الثاني مطلوب باللغة العربية"),descriptionTow_en:s().min(10).max(5e3).required("English Second Second Description is required"),descriptionTow_cr:s().min(10).max(5e3).required("kurd Description is required"),buttonOneT_ar:s().min(4).max(50).required("نص المفتاح الأول مطلوب بالعربية"),buttonOneT_en:s().min(4).max(50).required("english firsts button text is required"),buttonOneT_cr:s().min(4).max(50).required("kurd firsts button text is required"),buttonOneP_ar:s().min(4).max(100).required("مسار المفتاح الأول مطلوب بالعربية"),buttonOneP_en:s().min(4).max(100).required("english firsts button path is required"),buttonOneP_cr:s().min(4).max(100).required("kurd firsts button path is required"),buttonTowT_ar:s().min(4).max(50).required("نص المفتاح الثاني مطلوب بالعربية"),buttonTowT_en:s().min(4).max(50).required("english Second button text is required"),buttonTowT_cr:s().min(4).max(50).required("kurd Second button text is required"),buttonTowP_ar:s().min(4).max(100).required("مسار المفتاح الثاني مطلوب بالعربية"),buttonTowP_en:s().min(4).max(100).required("english Second button path is required"),buttonTowP_cr:s().min(4).max(100).required("kurd Second button path is required"),image:s().min(10).max(500).required("Image File is required")}),j=m.useMemo(()=>{var l,t,d,x,_,T,S,P,C,F,I,E,D,R,U,V,W,B,L,z,G,H,$,N,K,M,Q,J,X,Y,Z,v,u,A,ee,ie,ne,se,ae,te,de,le,oe,xe,me,re,pe,ce,ge,he,we,_e,Te,je,fe,Oe,qe;return{title_ar:((t=(l=e==null?void 0:e.lang)==null?void 0:l.ar)==null?void 0:t.title)||"",title_en:((x=(d=e==null?void 0:e.lang)==null?void 0:d.en)==null?void 0:x.title)||"",title_cr:((T=(_=e==null?void 0:e.lang)==null?void 0:_.cr)==null?void 0:T.title)||"",span_ar:((S=e==null?void 0:e.lang)==null?void 0:S.ar.span)||"",span_en:((P=e==null?void 0:e.lang)==null?void 0:P.en.span)||"",span_cr:((C=e==null?void 0:e.lang)==null?void 0:C.cr.span)||"",descriptionOne_ar:((I=(F=e==null?void 0:e.lang)==null?void 0:F.ar)==null?void 0:I.descOne)||"",descriptionOne_en:((D=(E=e==null?void 0:e.lang)==null?void 0:E.en)==null?void 0:D.descOne)||"",descriptionOne_cr:((U=(R=e==null?void 0:e.lang)==null?void 0:R.cr)==null?void 0:U.descOne)||"",descriptionTow_ar:((W=(V=e==null?void 0:e.lang)==null?void 0:V.ar)==null?void 0:W.descTow)||"",descriptionTow_en:((L=(B=e==null?void 0:e.lang)==null?void 0:B.en)==null?void 0:L.descTow)||"",descriptionTow_cr:((G=(z=e==null?void 0:e.lang)==null?void 0:z.cr)==null?void 0:G.descTow)||"",buttonOneT_ar:((N=($=(H=e==null?void 0:e.lang)==null?void 0:H.ar)==null?void 0:$.buttonOne)==null?void 0:N.text)||"",buttonOneT_en:((Q=(M=(K=e==null?void 0:e.lang)==null?void 0:K.en)==null?void 0:M.buttonOne)==null?void 0:Q.text)||"",buttonOneT_cr:((Y=(X=(J=e==null?void 0:e.lang)==null?void 0:J.cr)==null?void 0:X.buttonOne)==null?void 0:Y.text)||"",buttonOneP_ar:((u=(v=(Z=e==null?void 0:e.lang)==null?void 0:Z.ar)==null?void 0:v.buttonOne)==null?void 0:u.link)||"",buttonOneP_en:((ie=(ee=(A=e==null?void 0:e.lang)==null?void 0:A.en)==null?void 0:ee.buttonOne)==null?void 0:ie.link)||"",buttonOneP_cr:((ae=(se=(ne=e==null?void 0:e.lang)==null?void 0:ne.ar)==null?void 0:se.buttonOne)==null?void 0:ae.link)||"",buttonTowT_ar:((le=(de=(te=e==null?void 0:e.lang)==null?void 0:te.ar)==null?void 0:de.buttonTow)==null?void 0:le.text)||"",buttonTowT_en:((me=(xe=(oe=e==null?void 0:e.lang)==null?void 0:oe.en)==null?void 0:xe.buttonTow)==null?void 0:me.text)||"",buttonTowT_cr:((ce=(pe=(re=e==null?void 0:e.lang)==null?void 0:re.cr)==null?void 0:pe.buttonTow)==null?void 0:ce.text)||"",buttonTowP_ar:((we=(he=(ge=e==null?void 0:e.lang)==null?void 0:ge.ar)==null?void 0:he.buttonTow)==null?void 0:we.link)||"",buttonTowP_en:((je=(Te=(_e=e==null?void 0:e.lang)==null?void 0:_e.ar)==null?void 0:Te.buttonTow)==null?void 0:je.link)||"",buttonTowP_cr:((qe=(Oe=(fe=e==null?void 0:e.lang)==null?void 0:fe.cr)==null?void 0:Oe.buttonTow)==null?void 0:qe.link)||"",image:(e==null?void 0:e.image)||""}},[e]),b=Ze({resolver:async(l,t,d)=>await ei(Ee)(l,t,d),defaultValues:j}),{reset:f,watch:De,setValue:w,handleSubmit:Re,formState:{isSubmitting:Ue,isValid:si}}=b,i=De();m.useEffect(()=>{e&&f(j)},[e,j,f]);const k=Re(async l=>{try{let t="";if(h){e!=null&&e.image&&(console.log(e.image),await O.post("/deleteFile",{fileUrl:e.image}));const x=new FormData;if(i.image){x.append("file",i.image);const _=await O.post("/uploadFile/about",x,{headers:{"Content-Type":"multipart/form-data"}}),{fileUrl:T}=_.data.data;t=T}}const d={image:t||e.image,lang:{ar:{title:i==null?void 0:i.title_ar,span:i==null?void 0:i.span_ar,descOne:i==null?void 0:i.descriptionOne_ar,descTow:i==null?void 0:i.descriptionTow_ar,buttonOne:{text:i==null?void 0:i.buttonOneT_ar,link:i==null?void 0:i.buttonOneP_ar},buttonTow:{text:i==null?void 0:i.buttonTowT_ar,link:i==null?void 0:i.buttonTowP_ar}},en:{title:i==null?void 0:i.title_en,span:i==null?void 0:i.span_en,descOne:i==null?void 0:i.descriptionOne_en,descTow:i==null?void 0:i.descriptionTow_en,buttonOne:{text:i==null?void 0:i.buttonOneT_en,link:i==null?void 0:i.buttonOneP_en},buttonTow:{text:i==null?void 0:i.buttonTowT_en,link:i==null?void 0:i.buttonTowP_en}},cr:{title:i==null?void 0:i.title_cr,span:i==null?void 0:i.span_cr,descOne:i==null?void 0:i.descriptionOne_cr,descTow:i==null?void 0:i.descriptionTow_cr,buttonOne:{text:i==null?void 0:i.buttonOneT_cr,link:i==null?void 0:i.buttonOneP_cr},buttonTow:{text:i==null?void 0:i.buttonTowT_cr,link:i==null?void 0:i.buttonTowP_cr}}}};await O.put("/edit/about",d),f(),Ie("Upclient/public/assets/images/about/icon-advanced-analytics.svg client/public/assets/images/about/icon-customer-experience.svg client/public/assets/images/about/icon-last-mile-excellence.svg client/public/assets/images/about/icon-sustainability.svg client/public/assets/images/about/icon-workforce-empowerment.svgdate success!"),window.location.reload(),ye.success("about's Updated Successfully.")}catch(t){ye.error(t.response.data.msg||"Something went wrong!"),console.error(t)}}),Ve=m.useCallback(l=>{const t=l[0];Pe(!0);const d=Object.assign(t,{preview:URL.createObjectURL(t)});y(t),t&&w("image",d,{shouldValidate:!0})},[w]),We=m.useCallback(()=>{w("image",null),y(null)},[w]),Be=n.jsxs(n.Fragment,{children:[p&&n.jsxs(o,{md:4,children:[n.jsx(c,{variant:"h6",sx:{mb:.5},children:"Texts"}),n.jsx(c,{variant:"body2",sx:{color:"text.secondary"},children:"Title, description, buttons..."})]}),n.jsx(o,{xs:12,md:8,children:n.jsxs(ke,{children:[!p&&n.jsx(g,{title:"Texts"}),n.jsx(g,{title:"Arabic Text"}),n.jsxs(be,{spacing:3,sx:{p:3},children:[n.jsx(a,{name:"title_ar",label:"العنوان بالعربية",sx:{direction:"rtl"}}),n.jsx(a,{name:"span_ar",label:"الكلمة المميزة بالعربية",sx:{direction:"rtl"}}),n.jsx(a,{type:"text",name:"descriptionOne_ar",label:"الوصف الأول بالعربية",multiline:!0,rows:3,sx:{direction:"rtl"}}),n.jsx(a,{type:"text",name:"descriptionTow_ar",label:"الوصف الثاني بالعربية",multiline:!0,rows:3,sx:{direction:"rtl"}}),n.jsxs(r,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(a,{name:"buttonOneT_ar",label:"نص المفتاح الأول بالعربية",sx:{direction:"rtl",width:"49%"}}),n.jsx(a,{name:"buttonOneP_ar",label:"مسار المفتاح الأول",sx:{width:"49%"}})]}),n.jsxs(r,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(a,{name:"buttonTowT_ar",label:"نص المفتاح الثاني بالعربية",sx:{direction:"rtl",width:"49%"}}),n.jsx(a,{name:"buttonTowP_ar",label:"مسار المفتاح الثاني",sx:{width:"49%"}})]}),n.jsx(g,{title:"English Text"}),n.jsx(a,{name:"title_en",label:"english title"}),n.jsx(a,{name:"span_en",label:"english Special Word"}),n.jsx(a,{type:"text",name:"descriptionOne_en",label:"english First description",multiline:!0,rows:3}),n.jsx(a,{type:"text",name:"descriptionTow_en",label:"english Second description",multiline:!0,rows:3}),n.jsxs(r,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(a,{name:"buttonOneT_en",label:"english firsts button text",sx:{width:"49%"}}),n.jsx(a,{name:"buttonOneP_en",label:"firsts button path",sx:{width:"49%"}})]}),n.jsxs(r,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(a,{name:"buttonTowT_en",label:"english seconds button text",sx:{width:"49%"}}),n.jsx(a,{name:"buttonTowP_en",label:"seconds button path",sx:{width:"49%"}})]}),n.jsx(g,{title:"Kurd Text"}),n.jsx(a,{name:"title_cr",label:"kurd first section of title"}),n.jsx(a,{name:"span_cr",label:"kurd Special Word"}),n.jsx(a,{type:"text",name:"descriptionOne_cr",label:"kurd First description",multiline:!0,rows:3}),n.jsx(a,{type:"text",name:"descriptionTow_cr",label:"kurd Second description",multiline:!0,rows:3}),n.jsxs(r,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(a,{name:"buttonOneT_cr",label:"kurd firsts button text",sx:{width:"49%"}}),n.jsx(a,{name:"buttonOneP_cr",label:"firsts button path",sx:{width:"49%"}})]}),n.jsxs(r,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(a,{name:"buttonTowT_cr",label:"kurd seconds button text",sx:{width:"49%"}}),n.jsx(a,{name:"buttonTowP_cr",label:"seconds button path",sx:{width:"49%"}})]})]})]})})]}),Le=n.jsxs(n.Fragment,{children:[p&&n.jsx(o,{md:4}),n.jsxs(o,{xs:12,md:8,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx($e,{color:"inherit",variant:"outlined",size:"large",onClick:()=>Fe.push(q.dashboard.root),children:"cancel"}),n.jsx(ii,{type:"submit",variant:"contained",size:"large",loading:Ue,sx:{ml:2},onClick:k,children:"Save About"})]})]}),ze=n.jsxs(n.Fragment,{children:[p&&n.jsxs(o,{md:4,children:[n.jsx(c,{variant:"h6",sx:{mb:.5},children:"Image"}),n.jsx(c,{variant:"body2",sx:{color:"text.secondary"},children:"hero Section Image..."})]}),n.jsx(o,{xs:12,md:8,children:n.jsxs(ke,{sx:{p:2},children:[!p&&n.jsx(g,{title:"Image"}),n.jsxs(be,{spacing:1.5,children:[n.jsx(c,{variant:"subtitle2",children:"Image"}),n.jsx(ve,{name:"image",maxSize:3145728,onDrop:Ve,onDelete:We,file:i.image||Ce})]})]})})]});return n.jsx(ue,{methods:b,onSubmit:k,children:n.jsxs(o,{container:!0,spacing:3,children:[Be,ze,Le]})})}Se.propTypes={currentAbout:Ne.object};function ni(){const e=Ke(),{about:h}=Je();return n.jsxs(Me,{maxWidth:e.themeStretch?!1:"lg",children:[n.jsx(Ae,{heading:"Edit About Section",links:[{name:"Dashboard",href:q.dashboard.root},{name:"about",href:q.dashboard.service.root}],sx:{mb:{xs:3,md:5}}}),h&&n.jsx(Se,{currentAbout:h})]})}function pi(){return n.jsxs(n.Fragment,{children:[n.jsx(Qe,{children:n.jsx("title",{children:" Dashboard: About Edit"})}),n.jsx(ni,{})]})}export{pi as default};
