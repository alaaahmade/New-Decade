import{a9 as e,aj as k,I as o,ak as y,al as L,am as b,an as S,ao as d,ae as m}from"./index-7baedad1.js";import{r as E,i as P}from"./createSvgIcon-43748fa8.js";import{T as h}from"./TextField-ea5a8ca7.js";import{L as T}from"./LoadingButton-5b466cf8.js";var c={},_=P;Object.defineProperty(c,"__esModule",{value:!0});var g=c.default=void 0,I=_(E()),W=e,z=(0,I.default)((0,W.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");g=c.default=z;const D=()=>{const x=k(),[s,f]=o.useState(""),[n,p]=o.useState(""),[v,l]=o.useState(!1),[r,i]=o.useState({email:"",password:"",authentication:""}),{signIn:j,user:u}=o.useContext(y);o.useEffect(()=>{const a=L.getToken(),t=document.cookie;a&&t.length&&u&&x("/dashboard")},[u]);const w=async()=>{l(!0),i({email:"",password:"",authentication:""}),console.warn(s,n);let a=!1;if(s||(i(t=>({...t,email:"Please enter email!"})),a=!0),n||(i(t=>({...t,password:"Please enter Password!"})),a=!0),!a)try{await j({email:s,password:n}),console.log("Login successful"),l(!1)}catch(t){l(!1),console.error("Login error:",t),i(C=>({...C,authentication:"Wrong email/password!"}))}};return e.jsx("div",{style:{backgroundColor:"#0C141F",height:"100vh",paddingTop:100},children:e.jsx(b,{component:"main",maxWidth:"xs",children:e.jsx(S,{elevation:3,children:e.jsxs(d,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:3},children:[e.jsx(g,{sx:{fontSize:"2rem",mb:2}}),e.jsx(m,{variant:"h4",children:"Login"}),e.jsxs(d,{sx:{width:"100%",mt:2},children:[e.jsx(h,{label:"Email",variant:"outlined",value:s,onChange:a=>f(a.target.value),fullWidth:!0,margin:"normal",error:!!r.email,helperText:r.email}),e.jsx(h,{label:"Password",variant:"outlined",type:"password",value:n,onChange:a=>p(a.target.value),fullWidth:!0,margin:"normal",error:!!r.password,helperText:r.password}),e.jsx(T,{onClick:w,variant:"contained",color:"primary",loading:v,fullWidth:!0,sx:{mt:2,backgroundColor:"#2292F9","&:hover":{backgroundColor:"#0e5ebf"}},children:"Login"}),r.authentication&&e.jsx(m,{variant:"body2",color:"error",sx:{mt:1,textAlign:"center"},children:r.authentication})]})]})})})})};export{D as default};
