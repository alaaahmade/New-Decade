import{a$ as s,a9 as e,ao as I,bc as U,I as W,ae as K,bk as _}from"./index-7baedad1.js";import{c as O,a as z,d as Q,F as Y,R as A}from"./form-provider-f0797274.js";import{o as Z}from"./yup-573c9287.js";import{a as ee,I as ne,S as te,b as g}from"./TextField-ea5a8ca7.js";import{L as re}from"./LoadingButton-5b466cf8.js";function H({handleChange:o,list:a,parent:y,setParent:v}){return e.jsx(I,{sx:{minWidth:"8%",width:"15%"},children:e.jsxs(ee,{fullWidth:!0,children:[e.jsx(ne,{id:"demo-simple-select-label",children:"Parent"}),e.jsx(te,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,label:"Parent",onChange:l=>{o(l)},children:(a==null?void 0:a.length)>0&&(a==null?void 0:a.map((l,j)=>{var w,m,b,C,x;return[e.jsx(U,{value:j,dir:"column",sx:{flexDirection:"column"},children:l.title}),((w=l==null?void 0:l.children)==null?void 0:w.length)>0&&((b=(m=l==null?void 0:l.children[0])==null?void 0:m.items)==null?void 0:b.length)>0&&((x=(C=l==null?void 0:l.children[0])==null?void 0:C.items)==null?void 0:x.map((S,$)=>e.jsxs(U,{value:`${j}_${$}`,children:[" ",S.title," "]})))]}))})]})})}H.propTypes={handleChange:s.func,list:s.array};function ae({list:o,setList:a,handleDeleteItem:y,linkTitle:v,linkPath:l,handleAddItem:j,handleChangeLink:w,title:m,setParent:b=()=>{},parent:C="",type:x="footer"}){const S=O().shape({title:z().min(4).max(500).required("headLine Text is required"),path:z().min(4).max(100).required("headLine links text is required")}),$=Q({resolver:async(n,t,k)=>await Z(S)(n,t,k)}),{reset:F,watch:le,setValue:oe,handleSubmit:N,formState:{isSubmitting:G,isValid:se}}=$,[ie,R]=W.useState({title:"headLine Text is required"}),J=W.useMemo(()=>({title:"",path:""}),[]),P=N(async n=>{console.log(n);try{await j(),F(J)}catch(t){toast.error(t.response.data.msg||"Something went wrong!"),console.error(t)}});return e.jsx(Y,{methods:$,onSubmit:P,children:e.jsxs(I,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[e.jsx(K,{variant:"h6",sx:{mb:2},children:m}),o.length>0&&o.map((n,t)=>{var k,L,B,D,E;return[e.jsxs(I,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(g,{sx:{width:"49%"},placeholder:"title",value:n.title,id:t,onChange:r=>{const i=o.map((c,f)=>t===f?{...c,title:r.target.value}:c);a(i)}}),e.jsx(g,{sx:{width:"49%"},placeholder:"link",id:t,value:n.path,onChange:r=>{const i=o.map((c,f)=>t===f?{...c,path:r.target.value}:c);a(i)}}),e.jsx("button",{type:"button",variant:"contained",style:{alignSelf:"flex-end",m:2,backgroundColor:"#f56161",width:"10px !important",height:"20px",borderRadius:"50%",outline:0,border:0,color:"#fff",cursor:"pointer"},onClick:()=>y(a,t,o),children:"X"})]},_.id(t*2)),((k=n==null?void 0:n.children)==null?void 0:k.length)>0&&((B=(L=n==null?void 0:n.children[0])==null?void 0:L.items)==null?void 0:B.length)>0&&e.jsx("ul",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:2},children:(E=(D=n==null?void 0:n.children[0])==null?void 0:D.items)==null?void 0:E.map((r,i)=>{var c,f,V,X,M;return[e.jsxs("li",{id:`${t}_${i}`,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",gap:5},children:["-",e.jsx(g,{sx:{width:"49%"},placeholder:"title",id:`${t}_${i}`,value:r.title,onChange:h=>{r.title=h.target.value;const d=o.map((u,p)=>t===p?{...n}:u);a(d)}}),e.jsx(g,{sx:{width:"49%"},placeholder:"link",value:r.path,id:`${t}_${i}`,onChange:h=>{r.path=h.target.value;const d=o.map((u,p)=>t===p?{...n}:u);a(d)}}),e.jsx("button",{type:"button",variant:"contained",style:{alignSelf:"flex-end",m:2,backgroundColor:"#f56161",width:"10px !important",height:"20px",borderRadius:"50%",outline:0,border:0,color:"#fff",cursor:"pointer"},onClick:()=>y(a,`${t}_${i}`,o),children:"X"})]},_.id(t*2)),((c=r==null?void 0:r.children)==null?void 0:c.length)>0&&((V=(f=r==null?void 0:r.children[0])==null?void 0:f.items)==null?void 0:V.length)>0&&e.jsx("ul",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:2},children:(M=(X=r==null?void 0:r.children[0])==null?void 0:X.items)==null?void 0:M.map((h,d)=>e.jsxs("li",{id:`${t}_${i}_${d}`,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",gap:5},children:["-",e.jsx(g,{sx:{width:"49%"},id:`${t}_${i}_${d}`,placeholder:"title",value:h.title,onChange:u=>{h.title=u.target.value;const p=o.map((T,q)=>t===q?n:T);a(p)}}),e.jsx(g,{sx:{width:"49%"},id:`${t}_${i}_${d}`,placeholder:"link",value:h.path,onChange:u=>{h.path=u.target.value;const p=o.map((T,q)=>t===q?n:T);a(p)}}),e.jsx("button",{type:"button",variant:"contained",style:{alignSelf:"flex-end",m:2,backgroundColor:"#f56161",width:"10px !important",height:"20px",borderRadius:"50%",outline:0,border:0,color:"#fff",cursor:"pointer"},onClick:()=>y(a,`${t}_${i}_${d}`,o),children:"X"})]},_.id(d)))})]})},_.id(t))]}),e.jsxs(I,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(A,{type:"text",label:"نص رابط الانتقال باللغة العربية",sx:{width:x==="footer"?"49%":"40%",m:"1em 0"},placeholder:"title",name:"title",onChange:n=>{w(n)},value:v,disableUnderline:!0}),e.jsx(A,{type:"text",label:"رابط الانتقال",sx:{width:x==="footer"?"49%":"40%",m:"1em 0"},placeholder:"link",name:"path",onChange:n=>{w(n)},disableUnderline:!0,value:l}),x!=="footer"&&e.jsx(H,{handleChange:n=>{b(n.target.value)},list:o,parent:C,setParent:b})]}),e.jsx(re,{type:"button",variant:"contained",size:"large",loading:G,onClick:()=>{R(v?{title:""}:{title:"headLine Text is required"}),F(),(!l||!v)&&P(),j()},sx:{alignSelf:"flex-end",m:0,p:"0 2em"},children:"Add"})]})})}ae.propTypes={linkPath:s.string,linkTitle:s.string,handleDeleteItem:s.func,list:s.array,setList:s.func,title:s.string,handleAddItem:s.func,handleChangeLink:s.func,setParent:s.func,parent:s.string,type:s.string};export{ae as L};
